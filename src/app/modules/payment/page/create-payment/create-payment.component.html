<fieldset [disabled]="isLoading">
  <form (ngSubmit)="createPayment()" [formGroup]="paymentForm">
    <mat-grid-list cols="2" rowHeight="1:1">
      <div class="start-mat-grid-list">
        <mat-grid-tile>
          <div class="form-controls-container">
            <h2 class="secondary-heading">Datos de vecino</h2>
            <mat-form-field>
              <input matInput [placeholder]="'Vecino'" formControlName="neighbor" [matAutocomplete]="auto" required>
              <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                  {{option}}
                </mat-option>
              </mat-autocomplete>
              <app-control-messages [control]="f['neighbor']"></app-control-messages>
            </mat-form-field>
            <mat-form-field>
              <input matInput [placeholder]="'Cedula'" formControlName="neighborID" required>
              <app-control-messages [control]="f['neighborID']"></app-control-messages>
            </mat-form-field>
          </div>
        </mat-grid-tile>
        <mat-grid-tile>
          <div class="form-controls-container"> 
            <h2 class="secondary-heading">Datos del pago</h2>
            <mat-form-field appearance="fill">
              <mat-label>Choose a date</mat-label>
              <input matInput [matDatepicker]="picker" formControlName="paymentDate" required>
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <app-control-messages [control]="f['paymentDate']"></app-control-messages>
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Tipo de pago</mat-label>
              <select matNativeControl (change)="onChange($event)" formControlName="paymentMethod" required>
                <option 
                  *ngFor="let method of paymentMethods$ | async" 
                  [value]="method" 
                >
                  {{method}}
                </option>
              </select>
              <app-control-messages [control]="f['paymentMethod']"></app-control-messages>   
            </mat-form-field>
            <ng-container *ngIf="isElectronicPayment">
              <mat-form-field appearance="fill">
                <mat-label>Banco</mat-label>
                <select matNativeControl formControlName="bank" required>
                    <option *ngFor="let bank of banks$ | async" [value]="bank">
                    {{bank}}
                    </option>
                </select>
                <app-control-messages [control]="f['bank']"></app-control-messages>   
              </mat-form-field>
              <mat-form-field>
                <input matInput [placeholder]="'Numero de referencia'" formControlName="paymentID" required>
                <app-control-messages [control]="f['paymentID']"></app-control-messages>
              </mat-form-field>
            </ng-container>
            <mat-form-field>
              <input type="number" matInput  [placeholder]="'Monto'" formControlName="amount">
              <app-control-messages [control]="f['amount']"></app-control-messages>
            </mat-form-field>
            <div class="btn-group">
              <button mat-raised-button color="primary" type="submit" [disabled]="paymentForm.invalid">Submit</button>
              <button mat-raised-button color="warn" type="button" (click)="onClear()">Clear</button>
            </div>
          </div>
        </mat-grid-tile>
      </div>
    </mat-grid-list>
  </form>
</fieldset>